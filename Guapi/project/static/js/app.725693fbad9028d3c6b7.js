webpackJsonp([1],{"7D+g":function(t,s,i){t.exports=i.p+"static/fonts/ygyxsziti2.0.c1422d9.ttf"},"7xHN":function(t,s,i){t.exports=i.p+"static/fonts/comicbd.f06c4b1.ttf"},"9OJS":function(t,s){},ENeJ:function(t,s){},"IH/7":function(t,s,i){t.exports=i.p+"static/fonts/FZLTCXHJW.a58a499.ttf"},JTPn:function(t,s,i){t.exports=i.p+"static/fonts/hakuyoxingshu.ee4ae66.ttf"},N30c:function(t,s){},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("7+uW"),a=(i("7xHN"),i("JTPn"),i("IH/7"),i("7D+g"),{render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}),n=i("VU/8")({name:"app",data:function(){return{}},computed:{},methods:{}},a,!1,function(t){i("QVZO")},null,null).exports,o=i("/ocq"),r={name:"headMain",data:function(){return{keyword:"",randomColor:"",windowSize:!1,mobileNav:!1}},computed:{},methods:{randomC:function(t){this.randomColor="rgb("+parseInt(255*Math.random())+","+parseInt(255*Math.random())+","+parseInt(255*Math.random())+")",event.currentTarget.style.color=this.randomColor},initC:function(t){event.currentTarget.style.color="#999"},widowsize:function(){return window.resize=function(){return document.documentElement.clientWidth<=750?this.windowSize=!0:this.windowSize=!1},document.documentElement.clientWidth<=750?this.windowSize=!0:this.windowSize=!1},mobile:function(){this.mobileNav=!this.mobileNav}},created:function(){this.widowsize()},mounted:function(){this.widowsize()}},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"head"},[i("div",{staticClass:"title"},[i("router-link",{attrs:{to:"/"}},[t._v("Guapi")])],1),t._v(" "),i("div",{staticClass:"search"},[i("yd-input",{staticClass:"searchInp",attrs:{max:"20",placeholder:"请输入关键字","show-clear-icon":!0,"show-success-icon":!1,"show-error-icon":!1},model:{value:t.keyword,callback:function(s){t.keyword=s},expression:"keyword"}}),t._v(" "),i("yd-button",{directives:[{name:"show",rawName:"v-show",value:!t.windowSize,expression:"!windowSize"}],staticClass:"searchBtn",attrs:{size:"large",bgcolor:"#06ecf7",color:"#FFF"}},[t._v("搜索")])],1),t._v(" "),t.windowSize?i("div",{staticClass:"mobileNavBox"},[i("div",{staticClass:"mobileNavIconbox",class:{open:t.mobileNav},on:{click:function(s){t.mobile()}}},[i("span",{staticClass:"mobileNavIcon"}),t._v(" "),i("span",{staticClass:"mobileNavIcon"}),t._v(" "),i("span",{staticClass:"mobileNavIcon"})]),t._v(" "),i("transition",{attrs:{name:"bounce"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.mobileNav,expression:"mobileNav"}],staticClass:"mobileNav"},[i("li",{staticClass:"mobileNavLi"},[i("router-link",{attrs:{to:""},on:{mouseenter:function(s){t.randomC()},mouseleave:function(s){t.initC()}}},[t._v("购票")])],1),t._v(" "),i("li",{staticClass:"mobileNavLi"},[i("router-link",{attrs:{to:""},on:{mouseenter:function(s){t.randomC()},mouseleave:function(s){t.initC()}}},[t._v("开眼")])],1),t._v(" "),i("li",{staticClass:"mobileNavLi"},[i("router-link",{attrs:{to:""},on:{mouseenter:function(s){t.randomC()},mouseleave:function(s){t.initC()}}},[t._v("Top250")])],1)])])],1):i("ul",{ref:"headNav",staticClass:"headNav"},[i("li",{staticClass:"headNavLi"},[i("router-link",{attrs:{to:""},on:{mouseenter:function(s){t.randomC()},mouseleave:function(s){t.initC()}}},[t._v("购票")])],1),t._v(" "),i("li",{staticClass:"headNavLi"},[i("router-link",{attrs:{to:""},on:{mouseenter:function(s){t.randomC()},mouseleave:function(s){t.initC()}}},[t._v("开眼")])],1),t._v(" "),i("li",{staticClass:"headNavLi"},[i("router-link",{attrs:{to:""},on:{mouseenter:function(s){t.randomC()},mouseleave:function(s){t.initC()}}},[t._v("Top250")])],1)])])},staticRenderFns:[]},l=i("VU/8")(r,c,!1,function(t){i("N30c")},null,null).exports,v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"foot"},[s("a",{attrs:{href:"http://www.miitbeian.gov.cn/"}},[this._v("湘ICP备17012545号-1")])])}]},d=i("VU/8")({name:"footMain",data:function(){return{msg:""}}},v,!1,function(t){i("jkrx")},null,null).exports,u=i("mtWM"),m=i.n(u),_={name:"movieClass",props:["type"],data:function(){return{list:"",mdata:[],value:"",windowSize:!1}},computed:{},methods:{movieList:function(){var t=this;m.a.get("api/v2/movie/"+this.type,{params:{city:"长沙",apikey:"0b2bdeda43b5688921839c8ecb20399b",count:"12",star:"0",total:"20"}}).then(function(s){return setTimeout(function(){if(t.mdata=s.data,t.mdata.total)for(var i=0;i<t.mdata.subjects.length;i++)t.mdata.subjects[i].rating.stars=Math.round(t.mdata.subjects[i].rating.stars/10);else for(var e=0;e<t.mdata.subjects.length;e++)t.mdata.subjects[e].subject.rating.stars=Math.round(t.mdata.subjects[e].subject.rating.stars/10)},20),t.mdata}).catch(function(t){console.log(t)})},widowsize:function(){var t=this;window.resize=function(){return document.documentElement.clientWidth<=750?this.windowSize=!0:this.windowSize=!1},setTimeout(function(){return document.documentElement.clientWidth<=750?t.windowSize=!0:t.windowSize=!1},20)},movieDetails:function(t){this.$router.push({name:"movieDetails",query:{id:t}})}},created:function(){this.widowsize(),this.movieList()},mounted:function(){this.widowsize()}},p={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return t.mdata.total?i("div",{staticClass:"hot",class:{hotMobile:t.windowSize}},t._l(t.mdata.subjects,function(s){return i("div",{key:s.index,staticClass:"movieClass",class:{mobileMovieClass:t.windowSize},on:{click:function(i){t.movieDetails(s.id)}}},[i("div",{staticClass:"poster"},[i("img",{attrs:{src:s.images.large,alt:""}})]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(s.title))]),t._v(" "),parseInt(s.rating.stars)>0?[i("div",{staticClass:"stars"},[i("div",[i("span",{staticClass:"starnum"},[t._v(t._s(s.rating.stars))]),t._v(" "),i("yd-rate",{attrs:{readonly:!0},model:{value:s.rating.stars,callback:function(i){t.$set(s.rating,"stars",i)},expression:"item.rating.stars"}})],1)])]:[i("div",{staticClass:"stars"},[t._v("暂无评分")])]],2)})):i("div",{staticClass:"hot",class:{hotMobile:t.windowSize}},t._l(t.mdata.subjects,function(s){return i("div",{key:s.index,staticClass:"movieClass",class:{mobileMovieClass:t.windowSize},on:{click:function(i){t.movieDetails(s.subject.id)}}},[i("div",{staticClass:"poster"},[i("img",{attrs:{src:s.subject.images.large,alt:""}})]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(s.subject.title))]),t._v(" "),parseInt(s.subject.rating.stars)>0?[i("div",{staticClass:"stars"},[i("div",[i("span",{staticClass:"starnum"},[t._v(t._s(s.subject.rating.stars))]),t._v(" "),i("yd-rate",{attrs:{readonly:!0},model:{value:s.subject.rating.stars,callback:function(i){t.$set(s.subject.rating,"stars",i)},expression:"item.subject.rating.stars"}})],1)])]:[i("div",{staticClass:"stars"},[t._v("暂无评分")])]],2)}))},staticRenderFns:[]},g={name:"index",data:function(){return{msg:"Hello Vue!"}},components:{Head:l,Foot:d,movieClass:i("VU/8")(_,p,!1,function(t){i("agx5")},null,null).exports}},f={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"index"},[s("Head"),this._v(" "),s("div",{staticClass:"main"},[this._m(0),this._v(" "),s("movieClass",{attrs:{type:"in_theaters"}}),this._v(" "),this._m(1),this._v(" "),s("movieClass",{attrs:{type:"coming_soon"}}),this._v(" "),this._m(2),this._v(" "),s("movieClass",{attrs:{type:"weekly"}})],1),this._v(" "),s("Foot")],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"movieType"},[s("span",[this._v("正在热映")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"movieType"},[s("span",[this._v("即将上映")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"movieType"},[s("span",[this._v("口碑榜")])])}]},h=i("VU/8")(g,f,!1,function(t){i("tXfl")},null,null).exports,C=i("7QTg"),w=i.n(C),b={name:"",data:function(){return{movieMsg:{ratings:""},ratArr:[],swiperOption2:{speed:1e3,autoplay:2e3,slidesPerView:"1"},swiperOption:{speed:1e3,autoplay:2e3,slidesPerView:"3"},directors:[]}},components:{swiper:C.swiper,swiperSlide:C.swiperSlide,Head:l,Foot:d},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},methods:{getMovie:function(){var t=this;m.a.get("api/v2/movie/subject/"+this.$route.query.id,{params:{apikey:"0b2bdeda43b5688921839c8ecb20399b"}}).then(function(s){return setTimeout(function(){t.movieMsg=s.data,t.movieMsg.rating.stars=Math.round(t.movieMsg.rating.stars/10),function(){var i=0,e=[];for(var a in s.data.rating.details)i+=parseFloat(s.data.rating.details[a]),e.push(s.data.rating.details[a]);for(var n=0;n<e.length;n++)t.ratArr.push((e[n]/i*100).toFixed(2));t.movieMsg.ratings=i,function(s,i){t.movieMsg=s,t.ratArr=i.reverse()}(t.movieMsg,t.ratArr)}();for(var i in t.movieMsg.directors)t.movieMsg.directors[i].large=t.movieMsg.directors[i].avatars.large;for(var i in t.movieMsg.casts)t.movieMsg.casts[i].large=t.movieMsg.casts[i].avatars.large;console.log(t.movieMsg)},20),t.movieMsg}).catch(function(t){console.log(t)})}},created:function(){this.getMovie()},mounted:function(){}},M={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"movieDetails"},[i("Head"),t._v(" "),i("div",{staticClass:"movieMsg"},[i("div",{staticClass:"photoScore"},[i("div",{staticClass:"photo"},[t.movieMsg.images?i("img",{attrs:{src:t.movieMsg.images.large,alt:""}}):t._e()])]),t._v(" "),i("div",{staticClass:"introduce"},[i("h3",{staticClass:"movieName"},[t._v(t._s(t.movieMsg.title))]),t._v(" "),t.movieMsg.directors?i("div",{staticClass:"director"},[t._v("导演："),i("span",{attrs:{dataid:t.movieMsg.directors[0].id}},[t._v(t._s(t.movieMsg.directors[0].name))])]):t._e(),t._v(" "),t.movieMsg.casts?i("div",{staticClass:"protagonist"},[i("div",{staticClass:"title"},[t._v("主演：")]),t._v(" "),t._l(t.movieMsg.casts,function(s){return i("div",{key:s.index,staticClass:"li"},[i("span",[t._v(t._s(s.name))])])})],2):t._e(),t._v(" "),t.movieMsg.writers?i("div",{staticClass:"writers protagonist"},[i("div",{staticClass:"title"},[t._v("编剧：")]),t._v(" "),t._l(t.movieMsg.writers,function(s){return i("div",{key:s.index,staticClass:"li"},[i("span",[t._v(t._s(s.name))])])})],2):t._e(),t._v(" "),t.movieMsg.genres?i("div",{staticClass:"type protagonist"},[i("div",{staticClass:"title"},[t._v("类型：")]),t._v(" "),t._l(t.movieMsg.genres,function(s){return i("div",{key:s.index,staticClass:"li"},[i("span",[t._v(t._s(s))])])})],2):t._e(),t._v(" "),t.movieMsg.countries?i("div",{staticClass:"countries protagonist"},[i("div",{staticClass:"title"},[t._v("制片国家/地区：")]),t._v(" "),t._l(t.movieMsg.countries,function(s){return i("div",{key:s.index,staticClass:"li"},[i("span",[t._v(t._s(s))])])})],2):t._e(),t._v(" "),t.movieMsg.pubdates?i("div",{staticClass:"pubdates protagonist"},[i("div",{staticClass:"title"},[t._v("上映日期：")]),t._v(" "),t._l(t.movieMsg.pubdates,function(s){return i("div",{key:s.index,staticClass:"li"},[i("span",[t._v(t._s(s))])])})],2):t._e(),t._v(" "),t.movieMsg.durations?i("div",{staticClass:"durations"},[t._v("时长："),i("span",[t._v(t._s(t.movieMsg.durations[0]))])]):t._e()])]),t._v(" "),i("div",{staticClass:"scorebox"},[i("div",{staticClass:"score"},[i("div",{staticClass:"title"},[t._v("豆瓣评分")]),t._v(" "),t.movieMsg.rating?i("div",{staticClass:"cont"},[parseInt(t.movieMsg.rating.average)>0?i("div",{staticClass:"averagenumber"},[i("h2",[t._v(t._s(t.movieMsg.rating.average))])]):i("div",{staticClass:"averagenumber"},[t._v("暂无评分")]),t._v(" "),i("div",{staticClass:"averagestar"},[parseInt(t.movieMsg.rating.average)>0?[i("div",{staticClass:"stars"},[i("yd-rate",{attrs:{readonly:!0},model:{value:t.movieMsg.rating.stars,callback:function(s){t.$set(t.movieMsg.rating,"stars",s)},expression:"movieMsg.rating.stars"}}),t._v(" "),i("div",{staticClass:"commentNumber"},[t._v(t._s(t.movieMsg.ratings)+"人评价")])],1)]:[i("div",{staticClass:"stars"})]],2)]):t._e()]),t._v(" "),i("div",{staticClass:"starDetails"},t._l(t.ratArr,function(s,e){return i("div",{key:s,staticClass:"li"},[i("span",[t._v(t._s(Math.abs(e-5))+"星：")]),t._v(" "),t.ratArr?i("div",{staticClass:"progress"},[i("div",{staticClass:"width",style:{width:s+"%"}}),t._v(" "),i("div",{staticClass:"num"},[t._v(t._s(s+"%"))])]):t._e()])}))]),t._v(" "),i("div",{staticClass:"short"},[i("h3",[t._v("简介：")]),t._v(" "),i("p",[t._v(t._s(t.movieMsg.summary))])]),t._v(" "),i("div",{staticClass:"video"},[i("swiper",{ref:"mySwiper",staticClass:"banner",attrs:{options:t.swiperOption2}},t._l(t.movieMsg.blooper_urls,function(t){return i("swiper-slide",{key:t},[i("video",{attrs:{controls:""}},[i("source",{attrs:{src:t,type:"mp4"}})])])}))],1),t._v(" "),[i("swiper",{ref:"mySwiper",staticClass:"banner",attrs:{options:t.swiperOption}},[t._l(t.movieMsg.directors,function(s){return i("swiper-slide",{key:s.index},[s.large?i("img",{attrs:{src:s.large}}):t._e(),t._v(" "),i("p",[t._v(t._s(s.name))]),t._v(" "),i("p",{staticClass:"title"},[t._v("导演")])])}),t._v(" "),t._l(t.movieMsg.casts,function(s){return i("swiper-slide",{key:s.index},[s.large?i("img",{attrs:{src:s.large}}):t._e(),t._v(" "),i("p",[t._v(t._s(s.name))]),t._v(" "),i("p",{staticClass:"title"},[t._v("主演")])])}),t._v(" "),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],t._v(" "),t.movieMsg.popular_comments?i("div",{staticClass:"shortComment"},t._l(t.movieMsg.popular_comments,function(s){return i("div",{key:s.index,staticClass:"li"},[i("div",{staticClass:"title"},[i("p",[i("span",[t._v(t._s(s.author.name))]),t._v("说：")])]),t._v(" "),i("div",[t._v(t._s(s.content))])])})):t._e(),t._v(" "),i("Foot")],2)},staticRenderFns:[]},y=i("VU/8")(b,M,!1,function(t){i("9OJS")},null,null).exports,x=i("VU/8")(null,null,!1,null,null,null).exports;e.default.use(o.a);var k=new o.a({routes:[{path:"/",name:"index",component:h},{path:"/movieDetails",name:"movieDetails",component:y},{path:"/movies",name:"movies",component:x}]}),N=i("QdbL"),z=i.n(N);i("ENeJ"),i("v2ns");e.default.config.productionTip=!1,e.default.use(z.a),e.default.use(w.a),new e.default({el:"#app",router:k,template:"<App/>",components:{App:n}})},QVZO:function(t,s){},agx5:function(t,s){},jkrx:function(t,s){},tXfl:function(t,s){},v2ns:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.725693fbad9028d3c6b7.js.map